<!DOCTYPE html>
<html>
<head>
<title>For Manya â¤ï¸</title>

<meta name="viewport" content="width=device-width, initial-scale=1">

<style>

body{
  font-family:Arial, sans-serif;
  text-align:center;
  background:#fff0f5;
  margin:0;
  padding:20px;
}

.box{
  max-width:650px;
  margin:auto;
}

h1,h2{
  color:#ff3366;
}

button{
  padding:14px 20px;
  margin:8px;
  border:none;
  border-radius:12px;
  background:#ff4d6d;
  color:white;
  font-size:16px;
  cursor:pointer;
  width:90%;
  max-width:320px;
}

#letterText{
  font-size:18px;
  line-height:1.6;
  text-align:left;
  white-space:pre-wrap;
}

/* confetti */
.confetti{
  position:fixed;
  width:8px;
  height:8px;
  top:-10px;
  animation:fall 3s linear forwards;
}

@keyframes fall{
  to{
    transform:translateY(100vh) rotate(720deg);
    opacity:0;
  }
}

</style>
</head>

<body>

<div class="box">

<!-- QUIZ -->
<div id="quiz">
<h2 id="question"></h2>
<div id="options"></div>
</div>

<!-- LETTER -->
<div id="letter" style="display:none">
<h1>ğŸ’Œ A Letter For Manya</h1>
<p id="letterText"></p>
<button onclick="showProposal()">Next â Final Question ğŸ’</button>
</div>

<!-- PROPOSAL -->
<div id="proposal" style="display:none">
<h1>Manya â¤ï¸</h1>
<h2>Will you be my partner and Valentine forever?</h2>

<button onclick="yes()">YES ğŸ’–</button>
<button onclick="move(this)">NO ğŸ˜„</button>
</div>

</div>

<script>

/* =========================
   NAME
========================= */

var HER_NAME = "Manya";


/* =========================
   QUIZ DATA
========================= */

var q = [
{
 ques:`Where did we first meet, ${HER_NAME}?`,
 opt:["College","Office","Destiny â¤ï¸"],
 ans:2
},
{
 ques:`Who said I Love You first?`,
 opt:["Me","You","Same time"],
 ans:0
},
{
 ques:`Who loves more?`,
 opt:["Me","You","Both infinitely"],
 ans:2
}
];

var i=0;
var score=0;

function load(){
  question.innerHTML=q[i].ques;
  options.innerHTML="";

  q[i].opt.forEach((o,index)=>{
    options.innerHTML +=
    `<button onclick="check(${index})">${o}</button>`;
  });
}

function check(index){
  if(index==q[i].ans) score++;
  i++;

  if(i<q.length) load();
  else showLetterButton();
}

function showLetterButton(){
  quiz.innerHTML = `
    <h2>You scored ${score}/${q.length} ğŸ’–</h2>
    <button onclick="openLetter()">Click Here For A Letter ğŸ’Œ</button>
  `;
}


/* =========================
   LETTER â€” TYPING EFFECT
========================= */

var letterMsg =
`My dearest Manya,

These 5 years with you have been the most beautiful journey of my life.
From strangers to best friends to soul partners â€” every single phase
has been magical because it was with you.

Your smile is my peace.
Your voice is my comfort.
Your love is my strength.

Through every laugh, every fight, every late night talk â€”
I would choose you again and again without a second thought.

Thank you for standing by me, believing in us,
and loving me the way you do.

Happy 5 Year Anniversary â¤ï¸
Forever yours.`;

function typeLetter(text, el, speed=35){
  el.innerHTML="";
  let i=0;
  function t(){
    if(i<text.length){
      el.innerHTML += text.charAt(i);
      i++;
      setTimeout(t,speed);
    }
  }
  t();
}

function openLetter(){
  quiz.style.display="none";
  letter.style.display="block";
  typeLetter(letterMsg, letterText);
}

function showProposal(){
  letter.style.display="none";
  proposal.style.display="block";
}


/* =========================
   PROPOSAL ACTIONS
========================= */

function yes(){
  launchConfetti();
  document.body.innerHTML =
  `<h1>Yayyyyy Manya ğŸ’â¤ï¸<br>
   Forever With You</h1>`;
}

function move(btn){
  btn.style.position="absolute";
  btn.style.left=Math.random()*70+"%";
  btn.style.top=Math.random()*70+"%";
}


/* =========================
   CONFETTI
========================= */

function launchConfetti(){
  for(let i=0;i<120;i++){
    let c=document.createElement("div");
    c.className="confetti";
    c.style.left=Math.random()*100+"vw";
    c.style.background=`hsl(${Math.random()*360},100%,50%)`;
    c.style.animationDuration=2+Math.random()*2+"s";
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),4000);
  }
}


/* ========================= */

load();

</script>

</body>
</html>